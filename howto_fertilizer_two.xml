<?xml version="1.0" encoding="UTF-8"?> 
<vxml version="2.0" xmlns="http://www.w3.org/2001/vxml" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:schemaLocation="http://www.w3.org/2001/vxml 
   http://www.w3.org/TR/voicexml20/vxml.xsd">

	<form id="how_to_fertilizer">
		<block>
			<prompt>
				Welcome, to how to use fertilizer one.
				In this tutorial we will explain how you could use fertilizer one.
				This tutorial has six steps.
				</prompt>
		</block>
			
		<field name="step_by_step">
				<prompt bargein="true">
					Would you like to hear the entire tutorial, step by step,
					or would you like to jump to a particular step of the tutorial.
					
					Select 1 for the entier tutorial, 
					Select 2 for to jump to a certain step. 
				</prompt> 			

     <grammar xml:lang="en-US" root = "MYRULE" mode="dtmf">
      <rule id="MYRULE" scope = "public">
        <one-of>
						 <item> 1 </item>
						 <item> 2 </item>
					 </one-of>
					</rule>
				 </grammar>
			
			<noinput>
				 <prompt>
						I did not understood you. Please try again.
				 </prompt>
				 <reprompt/>
			</noinput>

			<nomatch>
					<prompt>
							Is that a number? Please try again.
					</prompt>
					<reprompt/>
			</nomatch>
								
			<filled namelist="step_by_step" mode = "all">

					<if cond ="step_by_step == 1">
							<goto nextitem="roadmap"/>	
						<elseif cond ="step_by_step == 2"/>
							<goto nextitem="choose_step" expritem="true"/>			
					</if>
			</filled>
		</field>

			<field name="choose_step" expr="false">
					<grammar xml:lang="en-US" root = "MYRULE" mode="dtmf">
					<rule id="MYRULE" scope = "public">
						<one-of>
								 <item> 0 </item>
								 <item> 1 </item>
								 <item> 2 </item>
								 <item> 3 </item>
								 <item> 4 </item>
								 <item> 5 </item>
								 <item> 6 </item>
							 </one-of>
							</rule>
						 </grammar>
				
					<catch event="0">
						<prompt bargein="true">
							Please enter the number to which step would you like to jump? 
						</prompt> 			

					<noinput>
						 <prompt>
								I did not understood you. Please try again.
						 </prompt>
						 <reprompt/>
					</noinput>

					<nomatch>
							<prompt>
									Is that a number? Please try again.
							</prompt>
							<reprompt/>
					</nomatch>

					<filled namelist="choose_step" mode = "all">
							<if cond ="choose_step == 1">
									<goto nextitem="step_1"/>			
								<elseif cond ="choose_step == 2"/>
									<goto nextitem="step_2"/>		
								<elseif cond ="choose_step == 3"/>
									<goto nextitem="step_3"/>		
								<elseif cond ="choose_step == 4"/>
									<goto nextitem="step_4"/>		
								<elseif cond ="choose_step == 5"/>
									<goto nextitem="step_5"/>		
								<elseif cond ="choose_step == 6"/>
									<goto nextitem="step_6"/>		
							</if>
					</filled>
				</catch>
			</field>

		<field name="roadmap">
			<block name="step_1">
				<prompt>Step one, First you need to do this.</prompt>
			</block>

			<block name="step_2">
				<prompt>Step two, Do this, this and this.</prompt>
			</block>

			<block name="step_3">
				<prompt>Step three, Do this, this and this.</prompt>
			</block>

			<block name="step_4">
				<prompt>Step four, Do this, this and this.</prompt>
			</block>

			<block name="step_5">
				<prompt>Step five, Do this, this and this.</prompt>
			</block>

			<block name="step_6">
				<prompt>Step six, Do this, this and this.</prompt>
			</block>
		</field>
		
		<field name="message_again">
			<grammar xml:lang="en-US" root = "MYRULE" mode="dtmf">
      <rule id="MYRULE" scope = "public">
        <one-of>
						 <item> 1 </item>
						 <item> 2 </item>
					 </one-of>
					</rule>
				 </grammar>
			
			<noinput>
				 <prompt>
						I did not understood you. Please try again.
				 </prompt>
				 <reprompt/>
			</noinput>

			<nomatch>
					<prompt>
							Is that a number? Please try again.
					</prompt>
					<reprompt/>
			</nomatch>
			
			<prompt bargein="true">
				Would you like to hear the message again?
				
				Select 1 for Yes,
				Select 2 for No.
			</prompt>
			
			<filled namelist="message_again" mode = "all">

					<if cond ="message_again == 1">
							<goto nextitem="step_by_step"/>			
						<elseif cond ="message_again == 2"/>
							<prompt>You will be redirected to the how to menu</prompt>
							<goto next="dtmf_menu_howto.xml"/>			
					</if>
			</filled>			
		</field>
	</form>
</vxml>